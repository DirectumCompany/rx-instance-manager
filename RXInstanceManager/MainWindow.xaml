<Window x:Class="RXInstanceManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RXInstanceManager"
        mc:Ignorable="d"
        Title="ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð¾Ð² RX" Height="400" Width="1400" MinHeight="300" MinWidth="1000" WindowStartupLocation="CenterScreen" Closing="OnClose" StateChanged="OnStateChanged" IsVisibleChanged="OnIsVisibleChanged">
  <Window.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="UIResources.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </Window.Resources>
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="40" />
      <ColumnDefinition />
      <ColumnDefinition Width="40" />
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="40" />
      <RowDefinition />
      <RowDefinition Height="30" />
    </Grid.RowDefinitions>
    <Button x:Name="HiddenButton" Content="info" Grid.Column="0" Grid.Row="0" Width="40" Background="#5b5f6a" Click="HiddenButton_Click" />
    <Button x:Name="ButtonDisableMinimizeToTray" Grid.Column="3" Grid.Row="0" Width="40" Background="#5b5f6a" Click="ButtonDisableMinimizeToTray_Click" />
    <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="1" Style="{DynamicResource HeaderStackPanel}"/>
    <StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Style="{DynamicResource HeaderStackPanel}"/>
    <StackPanel Orientation="Vertical" Grid.Row="1" Grid.Column="0" Grid.RowSpan="2" Background="#2C353C" />
    <StackPanel Orientation="Vertical" Grid.Row="1" Grid.Column="2" Grid.RowSpan="2" Background="#5b5f6a" />
    <Grid Grid.Row="1" Grid.Column="1">
      <Grid.RowDefinitions>
        <RowDefinition Height="50"/>
        <RowDefinition />
      </Grid.RowDefinitions>
      <StackPanel Orientation="Horizontal" Height="40" Grid.Row="0">
        <Button x:Name="ButtonAdd" Content="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ" Style="{DynamicResource RecordActionButton}" Margin="10,5,5,5" Background="SkyBlue" Click="ButtonAdd_Click" />
        <Button x:Name="ButtonStart" Content="do all up" Style="{DynamicResource RecordActionButton}" Background="SteelBlue" Click="ButtonStart_ClickAsync" />
        <Button x:Name="ButtonStop" Content="do all down" Style="{DynamicResource RecordActionButton}" Background="SteelBlue" Click="ButtonStop_ClickAsync" />
        <Button x:Name="ButtonDDSStart" Content="Development Studio" Style="{DynamicResource RecordActionButton}" Background="GreenYellow" Click="ButtonDDSStart_Click" />
        <Button x:Name="ButtonRXStart" Content="Ð’ÐµÐ±-ÐºÐ»Ð¸ÐµÐ½Ñ‚" Style="{DynamicResource RecordActionButton}" Background="Violet" Click="ButtonRXStart_Click" />
        <Button x:Name="ButtonLogViewer" Content="Directum LogViewer" Style="{DynamicResource RecordActionButton}" Background="Gray" Click="RunDirectumLogViewer_Click" />
        <Button x:Name="ButtonMetadataBrowser" Content="Metadata Browser" Style="{DynamicResource RecordActionButton}" Background="Yellow" Click="RunMetadataBrowser_Click" />
        <Button x:Name="ButtonSourcesFolder" Content="ÐŸÐ°Ð¿ÐºÐ° Ð¸ÑÑ…Ð¾Ð´Ð½Ð¸ÐºÐ¾Ð²" Style="{DynamicResource RecordActionButton}" Background="#FFDCA3FF" Click="ButtonSourcesFolder_Click" />
      </StackPanel>
      <DataGrid x:Name="GridInstances" AutoGenerateColumns="False" Style="{DynamicResource DataGridStyle}" Grid.Row="1" SelectionChanged="GridInstances_SelectionChanged" >
        <DataGrid.Columns>
          <DataGridTextColumn Binding="{Binding InstancePath}" Header="ÐŸÑƒÑ‚ÑŒ" Width="150" />
          <DataGridTextColumn Binding="{Binding SolutionVersion}" Header="Ð’ÐµÑ€ÑÐ¸Ñ" Width="80" />
          <DataGridTextColumn Binding="{Binding Status}" Header="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ" Width="80" />
          <DataGridTextColumn Binding="{Binding URL}" Header="URL" Width="200" />
          <DataGridTextColumn Binding="{Binding Name}" Header="ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ" Width="250" />
          <DataGridTextColumn Binding="{Binding ProjectConfigPath}" Header="ÐšÐ¾Ð½Ñ„Ð¸Ð³ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°" Width="250" />
          <DataGridTextColumn Binding="{Binding Code}" Header="ÐšÐ¾Ð´" Width="70" />
          <DataGridTextColumn Binding="{Binding DBName}" Header="Ð˜Ð¼Ñ Ð‘Ð”" Width="170" />
        </DataGrid.Columns>
        <DataGrid.ContextMenu>
          <ContextMenu x:Name="InstancesContextMenu">
            <MenuItem x:Name="ChangeProject" Header="Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚" Click="ChangeProject_ClickAsync" />
            <MenuItem x:Name="CreateProject" Header="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚" Click="CreateProject_ClickAsync" />
            <MenuItem x:Name="CloneProject" Header="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ¾Ð¿Ð¸ÑŽ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°" Click="CloneProject_Click" />
            <MenuItem x:Name="UpdateConfig" Header="ÐŸÑ€Ð¾Ð¿Ð°Ñ‚Ñ‡Ð¸Ñ‚ÑŒ config.yml" Click="UpdateConfig_Click" />
            <MenuItem x:Name="CheckServices" Header="ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²Ð¸ÑÑ‹" Click="CheckServices_Click" />
            <MenuItem x:Name="RunDDSWithOutDeploy" Header="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ DDS Ð±ÐµÐ· deploy" Click="RunDDSWithOutDeploy_Click" />
            <MenuItem x:Name="InfoContext" Header="Ð¡Ð²Ð¾Ð´ÐºÐ° Ð¿Ð¾ Ð¸Ð½ÑÑ‚Ð°Ð½ÑÑƒ" Click="InfoContext_Click" />
            <MenuItem x:Name="CmdAdminContext" Header="Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ cmd (Ð¾Ñ‚ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°)" Icon="ðŸ–¥ï¸" Click="CmdAdminContext_Click" />
            <MenuItem x:Name="ClearLogContext" Header="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð° RX" Click="ClearLogContext_Click" />
            <MenuItem x:Name="ClearLogAllInstancesContext" Header="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ð²ÑÐµÑ… ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð¾Ð² RX" Click="ClearLogAllInstancesContext_Click" />
            <MenuItem x:Name="ConfigContext" Header="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ config.yml" Click="ConfigContext_Click" />
            <MenuItem x:Name="ProjectConfigContext" Header="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°" Click="ProjectConfigContext_Click" />
            <MenuItem x:Name="ConvertDBsContext" Header="ÐšÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð‘Ð” Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²" Click="ConvertDBsContext_Click" />
            <MenuItem x:Name="RemoveProjectDataContext" Header="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð‘Ð” Ð¸ Ð´Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ð¹ ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°" Click="RemoveProjectDataContext_Click" />
            <MenuItem x:Name="RemoveInstance" Header="Ð£Ð±Ñ€Ð°Ñ‚ÑŒ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€ RX Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°" Click="RemoveInstance_Click" />
            <MenuItem x:Name="OpenRXFolder" Header="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ð° RX" Icon="ðŸ“" Click="OpenRXFolder_Click" />
            <MenuItem x:Name="OpenLogFolder" Header="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ Ð»Ð¾Ð³Ð¾Ð²" Click="OpenLogFolder_Click" />
          </ContextMenu>
        </DataGrid.ContextMenu>
      </DataGrid>
    </Grid>
  </Grid>
</Window>
